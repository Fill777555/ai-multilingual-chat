# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

## –ö—Ä–∞—Ç–∫–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º—ã

–ß–µ–∫–±–æ–∫—Å `aic_enable_translation` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –ø–ª–∞–≥–∏–Ω–∞ –Ω–µ –±—ã–ª –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º –∏–Ω—Ç–µ–≥—Ä–∏—Ä–æ–≤–∞–Ω —Å —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –∏ –∞–¥–º–∏–Ω JavaScript, —á—Ç–æ –¥–µ–ª–∞–ª–æ –Ω–µ–≤–æ–∑–º–æ–∂–Ω—ã–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å—é –ø–µ—Ä–µ–≤–æ–¥–∞ —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –∫–ª–∏–µ–Ω—Ç–∞. –•–æ—Ç—è —á–µ–∫–±–æ–∫—Å —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–ª –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö –∏ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–ª—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö, –∞ PHP –±—ç–∫–µ–Ω–¥ –ø—Ä–æ–≤–µ—Ä—è–ª —ç—Ç—É –æ–ø—Ü–∏—é –ø–µ—Ä–µ–¥ –≤—ã–∑–æ–≤–æ–º API –ø–µ—Ä–µ–≤–æ–¥–∞, –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –Ω–µ –±—ã–ª–∞ –¥–æ—Å—Ç—É–ø–Ω–∞ JavaScript –∫–æ–¥—É.

## –ê–Ω–∞–ª–∏–∑ –ø—Ä–æ–±–ª–µ–º—ã

### –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞
–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∫–ª—é—á–µ–Ω–∏—è/–æ—Ç–∫–ª—é—á–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞ (`aic_enable_translation`) –Ω–µ –ø–µ—Ä–µ–¥–∞–≤–∞–ª–∞—Å—å –≤ JavaScript —á–µ—Ä–µ–∑ `wp_localize_script`. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–ª–æ, —á—Ç–æ:

1. **Frontend JavaScript** (`frontend-script.js`) –Ω–µ –∏–º–µ–ª –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞
2. **Admin JavaScript** (`admin-script.js`) –Ω–µ –∏–º–µ–ª –¥–æ—Å—Ç—É–ø–∞ –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –ø–µ—Ä–µ–≤–æ–¥–∞
3. –ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π –∫–æ–¥ –Ω–µ –º–æ–≥ —É—Å–ª–æ–≤–Ω–æ –≤–∫–ª—é—á–∞—Ç—å/–æ—Ç–∫–ª—é—á–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
4. –ù–µ –±—ã–ª–æ —Å–ø–æ—Å–æ–±–∞ –æ—Ç–æ–±—Ä–∞–∑–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –ø–æ–¥—Å–∫–∞–∑–∫–∏ –æ —Å—Ç–∞—Ç—É—Å–µ –ø–µ—Ä–µ–≤–æ–¥–∞

### –ß—Ç–æ —Ä–∞–±–æ—Ç–∞–ª–æ
- ‚úÖ –ß–µ–∫–±–æ–∫—Å –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –≤ `templates/settings.php`
- ‚úÖ –û–ø—Ü–∏—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö (–∫–∞–∫ '1' –¥–ª—è –≤–∫–ª—é—á–µ–Ω–æ, '0' –¥–ª—è –≤—ã–∫–ª—é—á–µ–Ω–æ)
- ‚úÖ PHP —Ñ—É–Ω–∫—Ü–∏—è `save_settings()` –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ–∫–±–æ–∫—Å
- ‚úÖ PHP —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –ø—Ä–æ–≤–µ—Ä—è—é—Ç –æ–ø—Ü–∏—é –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ–≤–æ–¥–æ–º
- ‚úÖ –ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ –Ω–∞ '1' (–≤–∫–ª—é—á–µ–Ω–æ) –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–ª–∞–≥–∏–Ω–∞

### –ß—Ç–æ –ù–ï —Ä–∞–±–æ—Ç–∞–ª–æ
- ‚ùå –û–ø—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ frontend JavaScript (–æ–±—ä–µ–∫—Ç `aicFrontend`)
- ‚ùå –û–ø—Ü–∏—è –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞ –≤ admin JavaScript (–æ–±—ä–µ–∫—Ç `aicAdmin`)
- ‚ùå JavaScript –Ω–µ –º–æ–∂–µ—Ç –æ–ø—Ä–µ–¥–µ–ª–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ –ø–µ—Ä–µ–≤–æ–¥
- ‚ùå –ù–µ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —á–µ–∫–±–æ–∫—Å–∞

## –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ

### –ò–∑–º–µ–Ω–µ–Ω–∏—è –≤ –∫–æ–¥–µ

#### 1. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è Frontend Script
**–§–∞–π–ª:** `ai-multilingual-chat/ai-multilingual-chat.php` (–°—Ç—Ä–æ–∫–∞ ~739)

–î–æ–±–∞–≤–ª–µ–Ω–æ `enable_translation` –≤ JavaScript –æ–±—ä–µ–∫—Ç `aicFrontend`:

```php
wp_localize_script('aic-frontend-script', 'aicFrontend', array(
    'ajax_url' => admin_url('admin-ajax.php'),
    'nonce' => wp_create_nonce('aic_frontend_nonce'),
    'user_language' => $this->get_user_language(),
    'welcome_message' => get_option('aic_welcome_message', __('Hello!', 'ai-multilingual-chat')),
    'enable_emoji' => get_option('aic_enable_emoji_picker', '1'),
    'enable_dark_theme' => get_option('aic_enable_dark_theme', '0'),
    'enable_sound' => get_option('aic_enable_sound_notifications', '1'),
    'enable_translation' => get_option('aic_enable_translation', '1'), // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
    'sound_base_url' => plugins_url('sounds/', __FILE__),
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
));
```

#### 2. –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è Admin Script
**–§–∞–π–ª:** `ai-multilingual-chat/ai-multilingual-chat.php` (–°—Ç—Ä–æ–∫–∞ ~694)

–î–æ–±–∞–≤–ª–µ–Ω–æ `enable_translation` –≤ JavaScript –æ–±—ä–µ–∫—Ç `aicAdmin`:

```php
wp_localize_script('aic-admin-script', 'aicAdmin', array(
    'ajax_url' => admin_url('admin-ajax.php'),
    'nonce' => wp_create_nonce('aic_admin_nonce'),
    'enable_emoji' => get_option('aic_enable_emoji_picker', '1'),
    'enable_sound' => get_option('aic_enable_sound_notifications', '1'),
    'enable_dark_theme' => get_option('aic_enable_dark_theme', '0'),
    'enable_translation' => get_option('aic_enable_translation', '1'), // ‚Üê –î–û–ë–ê–í–õ–ï–ù–û
    'theme_mode' => get_option('aic_theme_mode', 'auto'),
    // ... –æ—Å—Ç–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
));
```

#### 3. –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
**–§–∞–π–ª:** `tests/test-translation-checkbox.php` (–ù–æ–≤—ã–π —Ñ–∞–π–ª)

–°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤ —Å 6 –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏:

1. ‚úÖ **–ß–µ–∫–±–æ–∫—Å —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö** - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —á–µ–∫–±–æ–∫—Å–∞ –≤ `settings.php`
2. ‚úÖ **–û–±—Ä–∞–±–æ—Ç—á–∏–∫ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç** - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç –≤—ã–∑–æ–≤ `update_option` –¥–ª—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
3. ‚úÖ **Frontend –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –≤ `aicFrontend`
4. ‚úÖ **Admin –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è** - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –ø–µ—Ä–µ–¥–∞—á—É –≤ `aicAdmin`
5. ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞** - –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ PHP –∫–æ–¥ –ø—Ä–æ–≤–µ—Ä—è–µ—Ç –æ–ø—Ü–∏—é
6. ‚úÖ **–ó–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** - –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–∞–µ—Ç, —á—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '1' (–≤–∫–ª—é—á–µ–Ω–æ)

**–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–æ–≤:** –í—Å–µ 6 —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω—ã (100% —É—Å–ø–µ—Ö)

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å

### –ü–æ–ª–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å

1. **–ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç –ø–µ—Ä–µ–≤–æ–¥:**
   - –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–ª–∞–≥–∏–Ω–∞
   - –û—Ç–º–µ—á–∞–µ—Ç –∏–ª–∏ —Å–Ω–∏–º–∞–µ—Ç —Ñ–ª–∞–∂–æ–∫ "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥"
   - –ù–∞–∂–∏–º–∞–µ—Ç "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"

2. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è:**
   - POST –∑–∞–ø—Ä–æ—Å —Ñ–æ—Ä–º—ã –≤ WordPress
   - –ú–µ—Ç–æ–¥ `save_settings()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç —á–µ–∫–±–æ–∫—Å
   - `update_option('aic_enable_translation', '1' –∏–ª–∏ '0')` —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –≤ –±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö

3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ:**
   - PHP —á–∏—Ç–∞–µ—Ç –æ–ø—Ü–∏—é –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
   - –ó–Ω–∞—á–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ JavaScript —á–µ—Ä–µ–∑ `wp_localize_script`
   - –î–æ—Å—Ç—É–ø–Ω–æ –∫–∞–∫ –≤–æ frontend, —Ç–∞–∫ –∏ –≤ admin –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞—Ö

4. **JavaScript –º–æ–∂–µ—Ç –ø–æ–ª—É—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ:**
   ```javascript
   // –í –∫–æ–¥–µ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
   if (aicFrontend.enable_translation === '1') {
       // –ü–æ–∫–∞–∑–∞—Ç—å UI –ø–µ—Ä–µ–≤–æ–¥–∞
   }
   
   // –í –∫–æ–¥–µ –∞–¥–º–∏–Ω–∫–∏
   if (aicAdmin.enable_translation === '1') {
       // –í–∫–ª—é—á–∏—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞
   }
   ```

5. **PHP –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   ```php
   // –í ajax_send_message() - –°—Ç—Ä–æ–∫–∞ 1005
   if (get_option('aic_enable_translation', '1') === '1' && $user_language !== $admin_language) {
       $translated_text = $this->translate_message($message, $user_language, $admin_language);
   }
   
   // –í ajax_admin_send_message() - –°—Ç—Ä–æ–∫–∞ 1288
   if (get_option('aic_enable_translation', '1') === '1' && $admin_language !== $user_language) {
       $translated_text = $this->translate_message($message, $admin_language, $user_language);
   }
   ```

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
cd /–ø—É—Ç—å/–∫/–ø–ª–∞–≥–∏–Ω—É
php tests/test-translation-checkbox.php
```

### –û–∂–∏–¥–∞–µ–º—ã–π –≤—ã–≤–æ–¥

```
============================================
  Translation Checkbox Functionality Test  
============================================

=== Translation Checkbox Functionality Tests ===
Date: 2025-10-22 12:21:55

Test 1: Check if aic_enable_translation checkbox exists in settings
‚úÖ PASSED: Checkbox exists in settings template

Test 2: Check if save handler for aic_enable_translation exists
‚úÖ PASSED: Save handler exists for aic_enable_translation

Test 3: Check if aic_enable_translation is passed to frontend JavaScript
‚úÖ PASSED: enable_translation is passed to frontend script

Test 4: Check if aic_enable_translation is passed to admin JavaScript
‚úÖ PASSED: enable_translation is passed to admin script

Test 5: Check if translation function checks aic_enable_translation option
‚úÖ PASSED: Translation code checks aic_enable_translation option

Test 6: Check if default value is set on plugin activation
‚úÖ PASSED: Default value '1' (enabled) is set on activation


=== Test Summary ===
Total Tests: 6
‚úÖ Passed: 6
‚ùå Failed: 0
Success Rate: 100%

üéâ All tests passed! The translation checkbox is working correctly.
```

## –®–∞–≥–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏

–ß—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, —á—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–∞–±–æ—Ç–∞–µ—Ç:

1. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞—Å—Ç—Ä–æ–µ–∫:**
   - –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ WordPress –ê–¥–º–∏–Ω ‚Üí AI Chat ‚Üí –ù–∞—Å—Ç—Ä–æ–π–∫–∏
   - –ù–∞–π–¥–∏—Ç–µ —á–µ–∫–±–æ–∫—Å "–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–µ—Ä–µ–≤–æ–¥"
   - –ß–µ–∫–±–æ–∫—Å –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –≤–∏–¥–∏–º—ã–º –∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–º

2. **–¢–µ—Å—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:**
   - –û—Ç–º–µ—Ç—å—Ç–µ —á–µ–∫–±–æ–∫—Å
   - –ù–∞–∂–º–∏—Ç–µ "–°–æ—Ö—Ä–∞–Ω–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫–∏"
   - –û–±–Ω–æ–≤–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É
   - –ß–µ–∫–±–æ–∫—Å –¥–æ–ª–∂–µ–Ω –æ—Å—Ç–∞—Ç—å—Å—è –æ—Ç–º–µ—á–µ–Ω–Ω—ã–º

3. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å JavaScript:**
   ```javascript
   // –ù–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
   console.log(aicFrontend.enable_translation); // –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ '1' –∏–ª–∏ '0'
   
   // –ù–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∞–¥–º–∏–Ω–∫–∏
   console.log(aicAdmin.enable_translation); // –î–æ–ª–∂–Ω–æ –≤—ã–≤–µ—Å—Ç–∏ '1' –∏–ª–∏ '0'
   ```

4. **–¢–µ—Å—Ç –ø–æ–≤–µ–¥–µ–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞:**
   - **–ö–æ–≥–¥–∞ –≤–∫–ª—é—á–µ–Ω–æ (–æ—Ç–º–µ—á–µ–Ω–æ):**
     - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ
     - –ü–µ—Ä–µ–≤–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏
     - –ü–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç –¥–æ–ª–∂–µ–Ω —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
   
   - **–ö–æ–≥–¥–∞ –≤—ã–∫–ª—é—á–µ–Ω–æ (–Ω–µ –æ—Ç–º–µ—á–µ–Ω–æ):**
     - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –Ω–∞ –¥—Ä—É–≥–æ–º —è–∑—ã–∫–µ
     - –ü–µ—Ä–µ–≤–æ–¥ –Ω–µ –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–∏–∑–æ–π—Ç–∏
     - –î–æ–ª–∂–Ω–æ —Å–æ—Ö—Ä–∞–Ω–∏—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ

## –°—Ö–µ–º–∞ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö

–û–ø—Ü–∏—è —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ —Ç–∞–±–ª–∏—Ü–µ WordPress `wp_options`:

| –ö–æ–ª–æ–Ω–∫–∞ | –ó–Ω–∞—á–µ–Ω–∏–µ |
|---------|----------|
| `option_name` | `aic_enable_translation` |
| `option_value` | `'1'` (–≤–∫–ª—é—á–µ–Ω–æ) –∏–ª–∏ `'0'` (–≤—ã–∫–ª—é—á–µ–Ω–æ) |
| `autoload` | `yes` |

## JavaScript API

### Frontend (–ö–ª–∏–µ–Ω—Ç—Å–∫–∏–π —á–∞—Ç)

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ –ø–µ—Ä–µ–≤–æ–¥
if (typeof aicFrontend !== 'undefined' && aicFrontend.enable_translation === '1') {
    // –ü–µ—Ä–µ–≤–æ–¥ –≤–∫–ª—é—á–µ–Ω
    console.log('–ü–µ—Ä–µ–≤–æ–¥ –∞–∫—Ç–∏–≤–µ–Ω');
} else {
    // –ü–µ—Ä–µ–≤–æ–¥ –≤—ã–∫–ª—é—á–µ–Ω
    console.log('–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
}
```

### Admin (–ü–∞–Ω–µ–ª—å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞)

```javascript
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ –ø–µ—Ä–µ–≤–æ–¥
if (typeof aicAdmin !== 'undefined' && aicAdmin.enable_translation === '1') {
    // –ü–µ—Ä–µ–≤–æ–¥ –≤–∫–ª—é—á–µ–Ω
    console.log('–ü–µ—Ä–µ–≤–æ–¥ –∞–∫—Ç–∏–≤–µ–Ω');
} else {
    // –ü–µ—Ä–µ–≤–æ–¥ –≤—ã–∫–ª—é—á–µ–Ω
    console.log('–ü–µ—Ä–µ–≤–æ–¥ –Ω–µ–∞–∫—Ç–∏–≤–µ–Ω');
}
```

## PHP API

```php
// –ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –≤–∫–ª—é—á–µ–Ω –ª–∏ –ø–µ—Ä–µ–≤–æ–¥
$translation_enabled = get_option('aic_enable_translation', '1');

if ($translation_enabled === '1') {
    // –ü–µ—Ä–µ–≤–æ–¥ –≤–∫–ª—é—á–µ–Ω
    // –ü—Ä–æ–¥–æ–ª–∂–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥
} else {
    // –ü–µ—Ä–µ–≤–æ–¥ –≤—ã–∫–ª—é—á–µ–Ω
    // –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥
}
```

## –û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å

‚úÖ **–ü–æ–ª–Ω–æ—Å—Ç—å—é –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ**

- –°—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –±—É–¥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∑–Ω–∞—á–µ–Ω–∏–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é '1' (–≤–∫–ª—é—á–µ–Ω–æ)
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏—è –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
- –ù–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ —Å—É—â–µ—Å—Ç–≤—É—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–∞–∫ –∂–µ
- –§—É–Ω–∫—Ü–∏–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ —Ä–∞–±–æ—Ç–∞—é—Ç —Ç–∞–∫ –∂–µ

## –ë—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

–ü–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –æ—Å–Ω–æ–≤—ã–≤–∞—Ç—å—Å—è –Ω–∞ —ç—Ç–æ–º –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–∏:

1. **–ò–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã UI –Ω–∞ —Å—Ç–æ—Ä–æ–Ω–µ –∫–ª–∏–µ–Ω—Ç–∞:**
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –∏–∫–æ–Ω–∫—É —Å—Ç–∞—Ç—É—Å–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ –≤ –≤–∏–¥–∂–µ—Ç–µ —á–∞—Ç–∞
   - –û—Ç–æ–±—Ä–∞–∂–∞—Ç—å –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä "–ü–µ—Ä–µ–≤–æ–¥..." –ø—Ä–∏ –æ–±—Ä–∞–±–æ—Ç–∫–µ
   - –ü–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –∏ –ø–µ—Ä–µ–≤–µ–¥–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç —Ä—è–¥–æ–º

2. **–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ:**
   - –†–∞–∑—Ä–µ—à–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–∫–ª—é—á–∞—Ç—å/–≤—ã–∫–ª—é—á–∞—Ç—å –ø–µ—Ä–µ–≤–æ–¥ –∏–∑ –≤–∏–¥–∂–µ—Ç–∞ —á–∞—Ç–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ä–∞–∑–≥–æ–≤–æ—Ä–∞
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø–µ—Ä–µ–≤–æ–¥–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —è–∑—ã–∫–æ–≤—ã—Ö –ø–∞—Ä

3. **–°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–µ—Ä–µ–≤–æ–¥–æ–≤:**
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –ø–µ—Ä–µ–≤–æ–¥–æ–≤
   - –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ —Ç–æ—á–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–æ–≤
   - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∑–∞—Ç—Ä–∞—Ç –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ API

4. **–†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏:**
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –ø–µ—Ä–µ–≤–æ–¥–∞ (—Å–∫–æ—Ä–æ—Å—Ç—å vs —Ç–æ—á–Ω–æ—Å—Ç—å)
   - –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è
   - –†–µ–∑–µ—Ä–≤–Ω—ã–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –ø–µ—Ä–µ–≤–æ–¥–∞

## –ó–∞–º–µ—Ç–∫–∏ –æ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏

‚úÖ **–ú–µ—Ä—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –Ω–∞ –º–µ—Å—Ç–µ:**

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ nonce** - –§–æ—Ä–º–∞ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `wp_nonce_field`
2. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤** - –¢–æ–ª—å–∫–æ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—ã –º–æ–≥—É—Ç –∏–∑–º–µ–Ω—è—Ç—å (`manage_options`)
3. **–°–∞–Ω–∏—Ç–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö** - –ó–Ω–∞—á–µ–Ω–∏–µ —á–µ–∫–±–æ–∫—Å–∞ —Å–∞–Ω–∏—Ç–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —á–µ—Ä–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫—É `isset()`
4. **–ü—Ä–∞–≤–∏–ª—å–Ω–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** - –í—ã–≤–æ–¥ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω –≤ —à–∞–±–ª–æ–Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫
5. **–ù–µ—Ç SQL –∏–Ω—ä–µ–∫—Ü–∏–π** - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç WordPress Options API

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤: `php tests/test-translation-checkbox.php`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Å–æ–ª—å –±—Ä–∞—É–∑–µ—Ä–∞ –Ω–∞ JavaScript –æ—à–∏–±–∫–∏
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –æ–ø—Ü–∏—é –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö: `SELECT * FROM wp_options WHERE option_name = 'aic_enable_translation'`
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥ –æ—Ç–ª–∞–¥–∫–∏ WordPress –Ω–∞ PHP –æ—à–∏–±–∫–∏
5. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –≤–µ—Ä—Å–∏—è –ø–ª–∞–≥–∏–Ω–∞ –∞–∫—Ç—É–∞–ª—å–Ω–∞

## –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `ai-multilingual-chat/ai-multilingual-chat.php` - –ì–ª–∞–≤–Ω—ã–π —Ñ–∞–π–ª –ø–ª–∞–≥–∏–Ω–∞
- `ai-multilingual-chat/templates/settings.php` - UI –Ω–∞—Å—Ç—Ä–æ–µ–∫
- `ai-multilingual-chat/frontend-script.js` - Frontend JavaScript
- `ai-multilingual-chat/admin-script.js` - Admin JavaScript
- `tests/test-translation-checkbox.php` - –ù–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤

## –ñ—É—Ä–Ω–∞–ª –∏–∑–º–µ–Ω–µ–Ω–∏–π

### –í–µ—Ä—Å–∏—è 2.0.8+ (–≠—Ç–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ)

- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ `enable_translation` –≤ frontend JavaScript
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–æ `enable_translation` –≤ admin JavaScript
- ‚úÖ –°–æ–∑–¥–∞–Ω –∫–æ–º–ø–ª–µ–∫—Å–Ω—ã–π –Ω–∞–±–æ—Ä —Ç–µ—Å—Ç–æ–≤
- ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ–π–¥–µ–Ω—ã
- ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–∞

## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ß–µ–∫–±–æ–∫—Å –ø–µ—Ä–µ–≤–æ–¥–∞ —Ç–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–ª–Ω–æ—Å—Ç—å—é:
- ‚úÖ UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ JavaScript –∏–º–µ–µ—Ç –¥–æ—Å—Ç—É–ø –∫ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ
- ‚úÖ PHP –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
- ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–æ –∏ –∑–∞–¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–æ

–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ, —Å—Ñ–æ–∫—É—Å–∏—Ä–æ–≤–∞–Ω–æ –∏ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –æ–±—Ä–∞—Ç–Ω—É—é —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å, –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –±—É–¥—É—â–∏–µ —É–ª—É—á—à–µ–Ω–∏—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–≤–æ–¥–∞.
